---
title: "Food Web Database"
output:
  html_document:
    toc: yes
---
```{r settings, include = F}
require(knitr)
opts_chunk$set(message = F, comment = NA)
```


# THE FOOD WEB "BEASTIARY"  

```{r directory, echo = F, message = F}
setwd("C:/Users/borre_000/Dropbox/Beastiary")

linkpath <- "C:/Users/borre_000/Dropbox/Beastiary/Links/"
nodepath <- "C:/Users/borre_000/Dropbox/Beastiary/Nodes/"
```

```{r dependencies}
require(igraph)
```



## Food webs from Ecological Archives  
### Quick Pond  
**Ecological Archives E093-153-D1**
  
Citation:   
[Daniel L. Preston, Sarah A. Orlofske, John P. McLaughlin, and Pieter T. J. Johnson. 2012. Food web including infectious agents for a California freshwater pond. Ecology 93:1760.](http://dx.doi.org/10.1890/11-2194.1)

```{r quickdata}
quick.nodes <- read.csv(paste(nodepath, "Quick_Pond_Nodes.csv", sep = ""), header = T)
quick.links <- read.csv(paste(linkpath, "Quick_Pond_Links.csv", sep = ""), header = T)
```

Separating the non-parasite from the parasite included web.  

```{r}
para.types <- which(quick.links["LinkType"] == levels(quick.links$LinkType)[c(2,4,5,6,7,9,10,11,12)])

quick.par.e <- as.matrix(quick.links[,2:1])
quick.nopar.e <- as.matrix(quick.links[-para.types, 2:1])
```

Using names instead of node ids

```{r}
quick.df.par <- data.frame(Resource = quick.nodes$WorkingName[quick.par.e[,1]], Consumer = quick.nodes$WorkingName[quick.par.e[,2]])
quick.df.nopar <- data.frame(Resource = quick.nodes$WorkingName[quick.nopar.e[,1]], Consumer = quick.nodes$WorkingName[quick.nopar.e[,2]])
```




### Sylt Tidal Basin
**Ecological Archives E092-172-D1**  
  
Citation:  
[David W. Thieltges, Karsten Reise, Kim N. Mouritsen, John P. McLaughlin, and Robert Poulin. 2011. Food web including metazoan parasites for a tidal basin in Germany and Denmark. Ecology 92:2005.](http://esapubs.org/archive/ecol/E092/172/)

```{r syltdata}
sylt.nodes <- read.csv(paste(nodepath, "Sylt_Data_Nodes.csv", sep = ""), header = T)
sylt.links <- read.csv(paste(linkpath, "Sylt_Data_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(sylt.links["LinkType"] == levels(sylt.links$LinkType)[c(2,4,5,6,7,9,10,11)])

sylt.par.e <- as.matrix(sylt.links[,2:1])
sylt.nopar.e <- as.matrix(sylt.links[-para.types, 2:1])
```

```{r}
sylt.df.par <- data.frame(Resource = sylt.nodes$WorkingName[sylt.par.e[,1]], Consumer = sylt.nodes$WorkingName[sylt.par.e[,2]])
sylt.df.nopar <- data.frame(Resource = sylt.nodes$WorkingName[sylt.nopar.e[,1]], Consumer = sylt.nodes$WorkingName[sylt.nopar.e[,2]])
```
### Otago Harbour    
**Ecological Archives E092-173-D1**  

Citation:    
[Kim N. Mouritsen, Robert Poulin, John P. McLaughlin and David W. Thieltges. 2011. Food web including metazoan parasites for an intertidal ecosystem in New Zealand. Ecology 92:2006](http://esapubs.org/archive/ecol/E092/173/)

```{r otagodata}
otago.nodes <- read.csv(paste(nodepath, "Otago_Data_Nodes.csv", sep = ""), header = T)
otago.links <- read.csv(paste(linkpath, "Otago_Data_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(otago.links["LinkType"] == levels(otago.links$LinkType)[c(2,4,5,7,8,9,10)])

otago.par.e <- as.matrix(otago.links[,2:1])
otago.nopar.e <- as.matrix(otago.links[-para.types, 2:1])
```

```{r}
otago.df.par <- data.frame(Resource = otago.nodes$WorkingName[otago.par.e[,1]], Consumer = otago.nodes$WorkingName[otago.par.e[,2]])
otago.df.nopar <- data.frame(Resource = otago.nodes$WorkingName[otago.nopar.e[,1]], Consumer = otago.nodes$WorkingName[otago.nopar.e[,2]])
```

### Flensburg Fjord  
**Ecological Archives E092-174-D1**   

Citation:    
[C. Dieter Zander, Neri Josten, Kim C. Detloff, Robert Poulin, John P. McLaughlin, and David W. Thieltges. 2011. Food web including metazoan parasites for a brackish shallow water ecosystem in Germany and Denmark. Ecology 92:2007](http://esapubs.ord/archive/ecol/E092/174/)

```{r flensdata}
flens.nodes <- read.csv(paste(nodepath, "Flensburg_Data_Nodes.csv", sep = ""), header = T)
flens.links <- read.csv(paste(linkpath, "Flensburg_Data_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(flens.links["LinkType"] == levels(flens.links$LinkType)[c(1,3,5,6,7,9,10,11)])

flens.par.e <- as.matrix(flens.links[,2:1])
flens.nopar.e <- as.matrix(flens.links[-para.types, 2:1])
```

```{r}
flens.df.par <- data.frame(Resource = flens.nodes$WorkingName[flens.par.e[,1]], Consumer = flens.nodes$WorkingName[flens.par.e[,2]])
flens.df.nopar <- data.frame(Resource = flens.nodes$WorkingName[flens.nopar.e[,1]], Consumer = flens.nodes$WorkingName[flens.nopar.e[,2]])
```


### Carpinteria Salt Marsh  
**Ecological Archives E092-066-D1**  

Citation:    
[Ryan F. Hechinger, Kevin D. Lafferty, John P. McLaughlin, Brian L. Fredensborg, Todd C. Huspeni, Julio Lorda, Parwant K. Sandhu, Jenny C. Shaw, Mark E. Torchin, Kathleen L. Whitney, and Armand M. Kuris. 2011. Food webs including parasites, biomass, body sizes, and life stages for three California/Baja California estuaries. Ecology 92:791](http://esapubs.org/archive/ecol/E092/066/)

```{r}
csm.nodes <- read.csv(paste(nodepath, "CSMweb_Nodes.csv", sep = ""), header = T)
csm.links <- read.csv(paste(linkpath, "CSMweb_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(csm.links["LinkType"] == levels(csm.links$LinkType)[c(2,4,6,7,8,9,11,12,13)])

csm.par.e <- as.matrix(csm.links[,6:5])
csm.nopar.e <- as.matrix(csm.links[-para.types, 6:5])
```

```{r}
csm.df.par <- data.frame(Resource = csm.nodes$WorkingName[csm.par.e[,1]], Consumer = csm.nodes$WorkingName[csm.par.e[,2]])
csm.df.nopar <- data.frame(Resource = csm.nodes$WorkingName[csm.nopar.e[,1]], Consumer = csm.nodes$WorkingName[csm.nopar.e[,2]])
```

### Estero de Punta Banda  
**Ecological Archives E092-066-D1**  

Citation:    
[Ryan F. Hechinger, Kevin D. Lafferty, John P. McLaughlin, Brian L. Fredensborg, Todd C. Huspeni, Julio Lorda, Parwant K. Sandhu, Jenny C. Shaw, Mark E. Torchin, Kathleen L. Whitney, and Armand M. Kuris. 2011. Food webs including parasites, biomass, body sizes, and life stages for three California/Baja California estuaries. Ecology 92:791](http://esapubs.org/archive/ecol/E092/066/)

```{r}
epb.nodes <- read.csv(paste(nodepath, "EPBweb_Nodes.csv", sep = ""), header = T)
epb.links <- read.csv(paste(linkpath, "EPBweb_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(epb.links["LinkType"] == levels(epb.links$LinkType)[c(1,2,4,5,6,8)])

epb.par.e <- as.matrix(epb.links[,6:5])
epb.nopar.e <- as.matrix(epb.links[-para.types, 6:5])
```

```{r}
epb.df.par <- data.frame(Resource = epb.nodes$WorkingName[epb.par.e[,1]], Consumer = epb.nodes$WorkingName[epb.par.e[,2]])
epb.df.nopar <- data.frame(Resource = epb.nodes$WorkingName[epb.nopar.e[,1]], Consumer = epb.nodes$WorkingName[epb.nopar.e[,2]])
```

### Bahia Falsa in Bahia San Quintín  
**Ecological Archives E092-066-D1**  

Citation:  
[Ryan F. Hechinger, Kevin D. Lafferty, John P. McLaughlin, Brian L. Fredensborg, Todd C. Huspeni, Julio Lorda, Parwant K. Sandhu, Jenny C. Shaw, Mark E. Torchin, Kathleen L. Whitney, and Armand M. Kuris. 2011. Food webs including parasites, biomass, body sizes, and life stages for three California/Baja California estuaries. Ecology 92:791](http://esapubs.org/archive/ecol/E092/066/)

```{r}
bsq.nodes <- read.csv(paste(nodepath, "BSQweb_Nodes.csv", sep = ""), header = T)
bsq.links <- read.csv(paste(linkpath, "BSQweb_Links.csv", sep = ""), header = T)
```

```{r}
para.types <- which(bsq.links["LinkType"] == levels(bsq.links$LinkType)[c(1,2,4,5,6,8)])

bsq.par.e <- as.matrix(bsq.links[,6:5])
bsq.nopar.e <- as.matrix(bsq.links[-para.types, 6:5])
```

```{r}
bsq.df.par <- data.frame(Resource = bsq.nodes$WorkingName[bsq.par.e[,1]], Consumer = bsq.nodes$WorkingName[bsq.par.e[,2]])
bsq.df.nopar <- data.frame(Resource = bsq.nodes$WorkingName[bsq.nopar.e[,1]], Consumer = bsq.nodes$WorkingName[bsq.nopar.e[,2]])
```

## Food webs from the Interaction Web Database

Data Location: http://www.nceas.ucsb.edu/interactionweb/html/thomps_towns.html  

Sources:  
[Jaarsma, N.G., de Boer, S.M., Townsend, C.R., Thompson, R.M. and Edwards, E.D. 1998. Characterising food webs in two New Zealand streams. New Zealand Journal of Marine and Freshwater Research 32: 271-286.](http://www.tandfonline.com/doi/abs/10.1080/00288330.1998.9516825#.U8kZaPmSyCk)

[Thompson, R.M., Edwards, E.D., McIntosh, A.R. and Townsend, C.R. 2001. Allocation of effort in stream food web studies - the best compromise? Marine and Freshwater Research 52/3: 339-345.](http://www.publish.csiro.au/?paper=MF00041)

[Thompson, R.M. and Townsend, C.R. 1999. The effect of seasonal variation on the community structure and food-web attributes of two streams : implications for food-web science. Oikos 87: 75-88.](http://www.jstor.org/discover/10.2307/3546998?uid=3737760&uid=2&uid=4&sid=21103989791071)

[Thompson, R.M. and Townsend, C.R. 2000. Is resolution the solution? the effect of taxonomic resolution on the calculated properties of three stream food webs. Freshwater Biology 43: 1-10.](http://onlinelibrary.wiley.com/doi/10.1046/j.1365-2427.2000.00579.x/abstract?deniedAccessCustomisedMessage=&userIsAuthenticated=false)

[Thompson, R.M. and Townsend, C.R. 2003. Impacts on stream food webs of native and exotic forest: an intercontinental comparison. Ecology 84: 145-161.](http://www.esajournals.org/doi/abs/10.1890/0012-9658(2003)084%5B0145:IOSFWO%5D2.0.CO%3B2)

[Thompson, R.M. and Townsend, C.R. 2005. Energy availability, spatial heterogeneity and ecosystem size predict food-web structure in streams. Oikos.](http://onlinelibrary.wiley.com/doi/10.1111/j.0030-1299.2005.11600.x/abstract)

[Townsend, C.R., Thompson, R.M., McIntosh, A.R., Kilroy, C., Edwards, E.D. and Scarsbrook, M.R. 1998. Disturbance, resource supply and food-web architecture in streams. Ecology Letters 1: 200-209.](http://onlinelibrary.wiley.com/doi/10.1046/j.1461-0248.1998.00039.x/abstract)

### Akatore
#### A  
#### B  

### Catlins

### Berwick

### Venlaw

### Narrowdale

### Blackrock  

### Broad

### Canton

### Dempsters
#### Summer
#### Autumn
#### Spring

### German

### Healy  

### LilKyeburn

### Stony

### Sutton
#### Summer
#### Autumn
#### Spring

### Kyeburn

### NorthCol

### Powder

### Troy

### Martins  

### Coweeta17

### Coweeta1


## Food webs from the PEaCE Lab


## All

```{r eval = F}
elist1 <- list(otago.nopar.e, sylt.nopar.e, quick.nopar.e, flens.nopar.e, csm.nopar.e, bsq.nopar.e, epb.nopar.e)

wnames <- c("otago", "sylt", "quick", "flens", "csm", "bsq", "epb")

for(i in 1:7){
  write.csv(elist1[[i]], paste("np", wnames[i], "edgelist.csv", sep = "_"))
}

glist1 <- lapply(elist1, graph.edgelist)

alist1 <- lapply(glist1, get.adjacency, sparse = F)
```


<table>
  <tr>
    <td></td>
  </tr>
    
  <tr>
    <td></td>
  </tr>
  
  <tr>
    <td></td>
  </tr>
  
  <tr>
    <td></td>
  </tr>
  
  <tr>
    <td></td>
  </tr>
  
  <tr>
    <td></td>
  </tr>
    
  <tr>
    <td></td>
  </tr>
</table>

